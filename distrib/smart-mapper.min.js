'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};/**
 * @license
 * smart-mapper  0.0.9
 * Copyright Sylvain Longepee
 * Released under MIT license
 */;(function(moduleName,root,factory){if(typeof define==='function'&&define.amd){}else if((typeof exports==='undefined'?'undefined':_typeof(exports))==='object'){module.exports=factory();}else{root.SmartMapper=factory();}})("SmartMapperModule",undefined,function(){'use strict';var SmartMapper={};function isObject(anything){return anything!==null&&(typeof anything==='undefined'?'undefined':_typeof(anything))==="object";}function get(object,path,defaultValue){var ps=path.split(".");var i=0;var length=ps.length;while(object!=null&&i<length){object=object[ps[i]];i++;}return object||defaultValue;}function mappingObject(mappings,rules,data){var target={};for(var key in mappings){var mkey=mappings[key];if(!isObject(mkey)){var value=get(data,mkey,null);var operate=null;if(rules!=null){operate=rules.find(function(x){return x.on===key;});}target[key]=operate?operate.execute(value):value;}else{target[key]=mappingObject(mkey,rules,data);}}return target;}SmartMapper.mapping=function(template,data){if(Array.isArray(data)){return data.reduce(function(target,item){if(isObject(item)){target.push(mappingObject(template.mappings,template.rules,item));}return target;},[]);}return mappingObject(template.mappings,template.rules,data);};return SmartMapper;});