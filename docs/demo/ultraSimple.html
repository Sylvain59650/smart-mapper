<html>

<head>
  <script src="../3parts/htmlElement.min.js"></script>
  <script src="../3parts/htmlElement-events.min.js"></script>
  <link href="https://sylvain59650.github.io/demonstrator/css/demo.css" type="text/css" rel="stylesheet" />
  <link href="https://sylvain59650.github.io/demonstrator/css/style.css" type="text/css" rel="stylesheet" />

  <script src="../3parts/passthrough-object.min.js"></script>
  <script src="modules/smart-mapper/distrib/smart-mapper.min.js"></script>
</head>

<body>
  <style>
    #response {
      border: solid 2px gray;
      min-width: 100%;
      min-height: 100px;
    }
  </style>
  <div class="breadcrumb">
    <a href="https://www.npmjs.com/package/smart-mapper" title="NPM">
      <img src="https://sylvain59650.github.io/smart-mapper/img/npm.png" height="32"></a>
    <a href="https://github.com/Sylvain59650/smart-mapper" title="GitHub"><img src="https://github.com/favicon.ico" height="32" /></a>
  </div>

  <div class="breadcrumb">
    <a href="index.html">Home</a> &gt;
    <h2>Ultra simple</h2>
  </div>
  <p>
    Given an array of people with name and age properties, we want to get a table with these people but with the FirstName property instead of name and without the age property.
  </p>

  <code>const SmartMapper = require('smart-mapper');  </code>
  <pre>
  <xmp id="codeToInsert">
  </xmp>
</pre>

  <button id="btnTest">Test</button>

  <div id="response" class="code">

  </div>
  <script id="code">
    var persons = [{
      name: 'Matt',
      age: 30
    }, {
      name: 'Edouard',
      age: 28
    }, {
      name: 'Guillaume',
      age: 29
    }, {
      name: 'Roger',
      age: 51
    }];


    var template = {
      mappings: {
        FirstName: 'name'
      }
    };


    let outData = SmartMapper.mapping(template, persons);
  </script>

  <script>
    var code = qsi("code").text;
    qsi("codeToInsert").html(code);
    qsi("btnTest").on("click", function() {
      var response = qsi("response");
      response.html(JSON.stringify(outData).replace(/}/g, "}\n"));
    });
  </script>
</body>

</html>